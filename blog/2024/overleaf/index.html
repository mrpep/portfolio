<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Your own overleaf | Leonardo D. Pepino </title> <meta name="author" content="Leonardo D. Pepino"> <meta name="description" content="A short guide to deploy your own overleaf and own your data with pro features for free."> <meta name="keywords" content="machine-learning, audio, representation-learning, speech"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%94%89&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://leonardopepino.latentsound.com/blog/2024/overleaf/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Leonardo</span> D. Pepino </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About Me </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Your own overleaf</h1> <p class="post-meta"> Created on November 24, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/overleaf"> <i class="fa-solid fa-hashtag fa-sm"></i> overleaf</a>   <a href="/blog/tag/academics"> <i class="fa-solid fa-hashtag fa-sm"></i> academics</a>   <a href="/blog/tag/phd-life"> <i class="fa-solid fa-hashtag fa-sm"></i> phd-life</a>   ·   <a href="/blog/category/linux"> <i class="fa-solid fa-tag fa-sm"></i> linux</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p><a href="https://www.overleaf.com/" rel="external nofollow noopener" target="_blank">Overleaf</a> is a collaborative cloud-based latex editor. It’s very popular among researchers and students as it allows to collaborate in document writing using Latex, and to compile these documents without having to install packages. However, your documents are in somebody else server, and you have to pay a subscription to collaborate with more than one person.</p> <p>In this article, I’m going to show you how I overcame these problems by hosting my own version of overleaf. This way, I don’t have to pay subscriptions, and all the documents stay in my computer.</p> <h3 id="running-the-official-overleaf">Running the official overleaf</h3> <p>Apart from offering the cloud service, Overleaf has released a <a href="https://github.com/overleaf/overleaf" rel="external nofollow noopener" target="_blank">free community edition</a> that can be installed locally.</p> <p>Installation is very easy and well documented.</p> <p>1) Clone the Overleaf toolkit repository:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/overleaf/toolkit.git ./overleaf-toolkit
</code></pre></div></div> <p>2) Install docker following their <a href="https://docs.docker.com/engine/install/ubuntu/" rel="external nofollow noopener" target="_blank">instructions</a> 3) Move to the repository:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ./overleaf-toolkit
</code></pre></div></div> <p>4) And generate the config files:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/init
</code></pre></div></div> <p>After running the command you’ll find 3 files in the config folder, which can be edited to customize the Overleaf instance. Some things you might want to tweak are:</p> <p>In overleaf.rc</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OVERLEAF_DATA_PATH=[where you want documents to be stored]
OVERLEAF_PORT=[port for overleaf]
</code></pre></div></div> <p>In variables.env</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OVERLEAF_NAV_TITLE=[your cool title to display]
OVERLEAF_ADMIN_EMAIL=[who to contact when things stop working]
OVERLEAF_EMAIL_SMTP_... [these variables are to setup the email server]
OVERLEAF_HEADER_IMAGE_URL=[your cool logo]
</code></pre></div></div> <p>5) Launch it:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/up
</code></pre></div></div> <p>6) Go to https://127.0.0.1:[OVERLEAF_PORT]/launchpad and create your user.</p> <p>Now you can start using your own Overleaf!</p> <h3 id="adding-packages">Adding packages</h3> <p>We can install all the available TexLive packages, adding between 3 and 4 GB to the container.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">exec </span>sharelatex tlmgr <span class="nb">install </span>scheme-full
docker <span class="nb">exec </span>sharelatex tlmgr path add
</code></pre></div></div> <p>After that we can commit the changes and save the updated container:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker commit sharelatex <span class="nb">local</span>/sharelatex-with-texlive-full:5.2.1
</code></pre></div></div> <p>Make sure that the overleaf version, found in config/version, matches the container name (5.2.1 in my case). Then stop the overleaf container (by running Ctrl+C), and edit the config/overleaf.rc file updating the SHARELATEX_IMAGE_NAME variable:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">SHARELATEX_IMAGE_NAME</span><span class="o">=</span><span class="nb">local</span>/sharelatex-with-texlive-full 
</code></pre></div></div> <p>Launch again the overleaf container and check that it works.</p> <h3 id="adding-comments-and-tracking-changes">Adding comments and tracking changes</h3> <p>By default the overleaf community edition image doesn’t have the comment feature (<span style="color:red">Now it does! although with this method you can add review/track changes functions ;)</span>.). Luckily, some smart people made an <a href="https://github.com/yu-i-i/overleaf-cep/tree/ldap-tc" rel="external nofollow noopener" target="_blank">extended overleaf</a> tackling this issue. We can follow the instructions in this <a href="https://github.com/overleaf/overleaf/issues/1193#issuecomment-2256681075" rel="external nofollow noopener" target="_blank">issue</a> to enable comments.</p> <p>Run the following command to open an interactive bash terminal in the overleaf container:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">exec</span> <span class="nt">-it</span> sharelatex bash
</code></pre></div></div> <p>Then make sure you are in the overleaf folder and execute these commands:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/yu-i-i/overleaf-cep.git overleaf-cep
<span class="nb">mv </span>overleaf-cep/services/web/modules/track-changes services/web/modules/track-changes
<span class="nb">rm</span> <span class="nt">-rf</span> overleaf-cep
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"/moduleImportSequence:/a 'track-changes',"</span> services/web/config/settings.defaults.js
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/trackChangesAvailable: false/trackChangesAvailable: true/g'</span> services/web/app/src/Features/Project/ProjectEditorHandler.js
</code></pre></div></div> <p>Exit the interactive terminal and then commit the changes to the image:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker commit sharelatex <span class="nb">local</span>/sharelatex-with-texlive-full-tc:5.2.1
</code></pre></div></div> <p>Finally, update the SHARELATEX_IMAGE_NAME variable in the config/overleaf.rc file.</p> <h3 id="access-from-the-outside-world">Access from the outside world</h3> <p>If you are happy with how overleaf works locally, you might want to access it from any network, and add users, etc… There are many ways to do that, but I find it very simple to use CloudFlare Tunnel if you own a domain, or ngrok if you don’t.</p> <p>Ngrok is very easy to setup:</p> <p>1) Go to https://ngrok.com/ 2) Sign up or Login 3) Follow the instructions to run ngrok in your computer and setup the auth token. 4) You get a free static domain to use. It will be shown in your dashboard. Run the command shown and change the port to the overleaf one:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ngrok http <span class="nt">--url</span><span class="o">=[</span>YOUR_STATIC_DOMAIN] <span class="o">[</span>OVERLEAF_PORT]
</code></pre></div></div> <p>5) Now go to your domain url and enjoy your free overleaf 😃</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/overleaf/login-page-480.webp 480w,/assets/img/posts/overleaf/login-page-800.webp 800w,/assets/img/posts/overleaf/login-page-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/posts/overleaf/login-page.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="sync-with-git">Sync with git</h3> <p>Finally, if your server dies, you don’t want to lose all those precious latex files. You can regularly backup the overleaf folders, which is fine, but it kind of forces you to reinstall the overleaf container again and hope everything still works.</p> <p>Another approach is to have a github repository where the tex files are backuped. For that purpose I created this <a href="https://github.com/mrpep/overleaf-git-sync" rel="external nofollow noopener" target="_blank">script</a>, which is very easy to use. You can check the readme with instructions, but basically all is needed is to create a repository, and then modify the config.json file adding details about the domain you used in the previous step, username, password, and the local path to the repository you created for backup.</p> <h3 id="associate-an-email">Associate an email</h3> <p>You might want to invite new users or let them reset their passwords. The manual way to do this is to go to Admin/Manage Users and register the user email. This will generate an invitation link that you can share with the person. Remember to replace localhost with your overleaf domain from Ngrok.</p> <p>However this can be tedious as you have to manually do this for every new user. A better approach is to associate an email for administration purposes. I will explain the process for gmail accounts:</p> <p>1) Generate an app password. This is needed as gmail will ask for 2 factor authentication, but we need a password that overleaf can use to access our account. Go <a href="https://myaccount.google.com/apppasswords" rel="external nofollow noopener" target="_blank">here</a>, enter an app name, ie. Overleaf, and then copy the generated password. 2) Modify these settings in the variables.env file:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OVERLEAF_EMAIL_FROM_ADDRESS=your-username@gmail.com
OVERLEAF_EMAIL_SMTP_HOST=smtp.gmail.com
OVERLEAF_EMAIL_SMTP_PORT=587
OVERLEAF_EMAIL_SMTP_SECURE=false
OVERLEAF_EMAIL_SMTP_USER=your-username@gmail.com
OVERLEAF_EMAIL_SMTP_PASS=the-pass-you-created
</code></pre></div></div> <p>3) Run bin/up again to refresh the instance and we are ready to go!</p> </div> </article> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Leonardo D. Pepino. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>